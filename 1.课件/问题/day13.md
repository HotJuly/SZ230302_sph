# 1.WebSocket

```
1.websocket是什么?
	WebSocket是HTML5的新特性
		他是一种类似于ajax的发送请求的工具
		你可以通过该工具与后端服务器进行数据的传输
		
	他使用到了一种新的网络协议:
		-ws	->	他是通过明文发送数据的,所以安全性不太好
		-wss -> 他是通过密文发送数据的,所以安全性比较好
			我们用的是ws,因为我没钱
			
2.为什么要使用WebSocket?
	以上问题等同于:为什么要使用ws协议,而不用http协议
	传统的http协议,需要前端主动发送请求,后端才有机会返回响应
		所以可能会出现,后端数据已经更新了,但是前端由于还没有发送请求,所以数据展示不正确的效果出现
			想解决这种问题,就需要使用定时器轮询发送请求,实时获取服务器最新结果
			
	新的ws协议,它可以实现前端发请求给后端,后端接收数据的效果
				同时他也可以实现服务器发请求,前端接收数据的效果
				还能实现,一方传递数据,另一方直接收,不返回
				他的特点就是持续通信
				
	扩展:
		传统http,每次发送请求,都需要将请求头以及请求体发送给服务器
		而ws协议,每次发送数据,不需要发送请求头等部分,只需要把数据发给服务器即可
			这样做,可以降低请求发送的数据量,从而减低对网速的要求,提高数据的传递速度
			
	其实WebSocket很像是全局事件总线
		在全局事件总线中,会有一个订阅方和一个发布方,他们是前端的两个组件,可以互相传递数据
		在WebSocket中,会有一个订阅方和一个发布方,他们是前端浏览器和后端服务器
			假设现在想要后端给前端发数据
				订阅方:前端	发布方:后端
			
3.怎么使用WebSocket?
	参考项目中即可
	
4.在哪使用过WebSocket?
	-电商项目查询订单支付情况以外
	-智慧城市类型的项目(物联网)
	-聊天软件
	-直播
```

# 2.组件懒加载

```
1.前言
	当Vue项目编写完毕之后,开发者会以生产环境编译当前项目,最终会将所有打包的内容,都汇总到dist文件夹中,
	该文件夹中,会具有以下文件:
		1.index.html
		2.main.js
		扩展:
			如果当前项目中具有图片文件,在绝大多数的项目中,都会配置成以下情况:
				-如果图片大小超过1MB,那么就将图片单独输出到images文件夹中
				-如果图片大小小于1MB,那么就将图片以base64格式进行编译,存入js文件中
					目的是为了减少发送请求的个数
	假设:当前项目中,一共有10个组件文件,每个文件假设大小为1MB,
		那么main.js的大小 10*1MB=10MB
		如果此时用户网速为1MB/s,那么想要看到当前项目效果,需要等待文件请求10秒钟,那么页面白屏10秒
        
 2.ES6模块化语法
 	1.静态引入
 		语法:import Home from '文件地址'
 		特点:该语法在项目上线之后,不会存在,他会被引入文件的内容替代,从而实现所有的依赖文件全部汇总到main.js文件中,所以才会出现所有的代码都在一个js文件中的情况
 		
 	2.动态引入
 		语法:import('文件地址')
		特点:该语法在项目上线之后,依旧存在,webpack在编译项目的过程中,如果发现有文件呗该语法引入,那么该文件就会被单独切割为一个js文件进行存放
		
3.什么是组件懒加载?
	其实可以称为组件异步加载
	将一个组件的加载时间延迟
	
4.为什么要使用组件懒加载?
	因为他是一种性能优化的方案
	假设:当前项目中,一共有10个组件文件,每个文件假设大小为1MB,
		如果项目使用动态引入语法,对9个文件进行引入
		那么当前dist文件夹中,就会有以下文件
			-index.html
			-main.js
			-9个单独的js文件
			此时,main.js中只会有当前首页的代码,他的大小就是1MB,而其余的9个js文件,也各为1MB
			
	使用组件懒加载之后得到的好处:
		1.使用懒加载之后,用户如果请求首页代码,那么只需要请求main.js文件,而体积只有1MB
			所以只需要白屏1秒钟,就可以看到首页的数据
		简单来说:减少了网络带宽的压力,减少代码解析时间,减少了首页白屏时间,加快了首页的渲染速度
		
5.组件懒加载的坏处是什么?
	虽然首页渲染速度变快了,但是如果用户切换后续其他页面,那么首次展示这些页面的时候,会出现白屏效果
		因为main.js中,没有其他组件的代码,所以想要看到这些页面,需要发送网络请求,等待请求成功
		
		相比于首页白屏10秒钟,每个页面白屏1秒钟更容易接受,所以才选择使用组件懒加载
		
6.如何解决组件懒加载的缺点?
	组件预加载:趁着用户不注意,偷偷地将需要的代码提前请求回来,方便后续使用
	组件预加载的好处:用户正在查看首页,我们可以使用预加载的技术,提前将search等异步组件请求回来,在内存中提前解析好,方便后续项目使用,后续项目使用的时候,就属于内存级别操作,不需要在等待网络请求成功
	组件预加载的缺点:比较浪费流量,可能请求回来的页面,用户根本不看
```

# 3.图片懒加载

```
1.图片懒加载是什么?
	他是一个Vue的插件库(Vue.use)
	他也是一种性能优化的方案
	
2.为什么要使用图片懒加载?
	他也是一种性能优化的方案
	在没有使用图片懒加载之前:
		无论用户是否能看到某些图片,浏览器都会自动请求这些图片
			原因:因为img标签,如果拥有src属性,他就一定会自动请求
			
		存在的问题:用户用不上的图,也请求回来了,导致项目请求的图片太多,占用了请求并发数量
			那么就会降低网页的展示速度
			
	在使用图片懒加载之后:
		用户看得到的图片会正常请求,看不到的图片会被延迟请求
			延迟到用户即将看到该图片的时候
			
	优点:可以将无用的图片延迟请求,加快核心文件的请求速度,加快页面的展示速度
	
3.怎么使用图片懒加载?
	参考流程文档
	
4.原理:
	1.只要不给图片立即添加src,那么该图片就不会立即发送请求
	2.将真正的图片链接保存在data-src属性,后续需要使用的时候,就可以将里面的数据传给src属性
	3.最后通过IntersectionObserver函数,监视当前图片是否在页面上可见,
		如果图片在页面上可见了,就会自动执行传入的回调函数,将data-src的值赋值给src属性
```

